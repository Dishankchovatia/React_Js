"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[808],{995:(t,e,n)=>{n.d(e,{Z:()=>a});var s=n(791);function o(t,e){return"SEND"===e.type?{data:null,error:null,status:"pending"}:"SUCCESS"===e.type?{data:e.responseData,error:null,status:"completed"}:"ERROR"===e.type?{data:null,error:e.errorMessage,status:"completed"}:t}const a=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const[n,a]=(0,s.useReducer)(o,{status:e?"pending":null,data:null,error:null});return{sendRequest:(0,s.useCallback)((async function(e){a({type:"SEND"});try{const n=await t(e);a({type:"SUCCESS",responseData:n})}catch(n){a({type:"ERROR",errorMessage:n.message||"Something went wrong!"})}}),[t]),...n}}},853:(t,e,n)=>{n.d(e,{Ir:()=>r,KP:()=>c,Lf:()=>o,h_:()=>i,jR:()=>a});const s="https://react-js-45cbf-default-rtdb.firebaseio.com";async function o(){const t=await fetch("".concat(s,"/quotes.json")),e=await t.json();if(!t.ok)throw new Error(e.message||"Could not fetch quotes.");const n=[];for(const s in e){const t={id:s,...e[s]};n.push(t)}return n}async function a(t){const e=await fetch("".concat(s,"/quotes/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not fetch quote.");return{id:t,...n}}async function c(t){const e=await fetch("".concat(s,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not create quote.");return null}async function r(t){const e=await fetch("".concat(s,"/comments/").concat(t.quoteId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not add comment.");return{commentId:n.name}}async function i(t){const e=await fetch("".concat(s,"/comments/").concat(t,".json")),n=await e.json();if(!e.ok)throw new Error(n.message||"Could not get comments.");const o=[];for(const s in n){const t={id:s,...n[s]};o.push(t)}return o}},808:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var s=n(791),o=n(880),a=n(523);const c="QuoteItem_item__mUFaJ";var r=n(184);const i=t=>(0,r.jsxs)("li",{className:c,children:[(0,r.jsxs)("figure",{children:[(0,r.jsx)("blockquote",{children:(0,r.jsx)("p",{children:t.text})}),(0,r.jsx)("figcaption",{children:t.author})]}),(0,r.jsx)(a.rU,{className:"btn",to:"/quotes/".concat(t.id),children:"View Fullscreen"})]}),u="QuoteList_list__O3K8H",d="QuoteList_sorting__oeIGt",l=t=>{const e=(0,o.k6)(),n=(0,o.TH)(),a="asc"===new URLSearchParams(n.search).get("sort"),c=(l=t.quotes,h=a,l.sort(((t,e)=>h?t.id>e.id?1:-1:t.id<e.id?1:-1)));var l,h;return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)("div",{className:d,children:(0,r.jsxs)("button",{onClick:()=>{e.push({pathname:n.pathname,search:"?sort=".concat(a?"desc":"asc")})},children:["Sort ",a?"Descending":"Ascending"]})}),(0,r.jsx)("ul",{className:u,children:c.map((t=>(0,r.jsx)(i,{id:t.id,author:t.author,text:t.text},t.id)))})]})};var h=n(556);const m="NoQuotesFound_noquotes__R8Ei0",f=()=>(0,r.jsxs)("div",{className:m,children:[(0,r.jsx)("p",{children:"No quotes found!"}),(0,r.jsx)(a.rU,{className:"btn",to:"/new-quote",children:"Add a Quote"})]});var p=n(995),j=n(853);const w=()=>{const{sendRequest:t,status:e,data:n,error:o}=(0,p.Z)(j.Lf,!0);return(0,s.useEffect)((()=>{t()}),[t]),"pending"===e?(0,r.jsx)("div",{className:"centered",children:(0,r.jsx)(h.Z,{})}):o?(0,r.jsx)("p",{className:"centered focused",children:o}):"completed"!==e||n&&0!==n.length?(0,r.jsx)(l,{quotes:n}):(0,r.jsx)(f,{})}}}]);
//# sourceMappingURL=808.871f9118.chunk.js.map